# principal_harmonics
This is the supplimentary material to my Bachelor's thesis 'Learning Generative
models from Acoustic Sound Sources', supervised by Dr. Thomas Hermann.

* `principal_harmonics` contains the Python package with the actual software
* `notebooks` contains a set of Jupyter notebooks that reproduce the results in
  the report
* `static-notebooks` contains a pdf-baked version of the Jupyter notebooks
* similiarly, `static-wavs` contains a copy of the audio samples generated by
  the Jupyter notebooks.

## Installation
To install the software package, I recommend using conda:

```
conda create -n principal_harmonics python=3.9
conda activate principal_harmonics
git pull https://gitlab.ub.uni-bielefeld.de/lukas.middelberg/principal_harmonics.git
cd principal_harmonics
pip install .
```

Dependencies are listed in `setup.py`, but should be automatically installed
when using `pip install .`

## Getting started
To reproduce the results in the notebooks, first, download the 
[Philharmonia Sound Samples](https://philharmonia.co.uk/resources/sound-samples/), and extract them
somewhere. Build the labels.csv files: (note the single ticks around the glob
argument. They are important, without them Bash will evaluate the glob
expression itself!)
```
python build-labels.py --glob 'cello_*_15_*_arco-normal.mp3'    --filename-parser philharmonia PATH/TO/CELLO/SAMPLES/
python build-labels.py --glob 'guitar_*_very-long_*_normal.mp3' --filename-parser philharmonia PATH/TO/GUITAR/SAMPLES/
```
then run the analyses:
```
python build-dataset.py --clip-strategy=stationary --pitch-mode=variable PATH/TO/CELLO/SAMPLES/
python build-dataset.py --clip-strategy=transient  --pitch-mode=constant PATH/TO/GUITAR/SAMPLES/
```

Before running each notebook, make sure that paths in the first cell
point to the datasets and the output directories.
